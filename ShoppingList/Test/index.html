<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping List</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <button class="close-sidebar" id="close-sidebar"><i class="fas fa-times"></i></button>
        <div class="sidebar-content">
            <section>
                <h3>Categories</h3>
                <ul id="category-list" class="editable-list">
                    <!-- Categories will be loaded here -->
                </ul>
                <div class="add-new">
                    <input type="text" id="new-category-name" placeholder="Category Name">
                    <button id="add-category-button" title="Add Category"><i class="fas fa-plus"></i></button>
                </div>
            </section>
            <h3>&nbsp;</h3>
            <section>
                <h3>Stores</h3>
                <ul id="store-list" class="editable-list">
                    <!-- Stores will be loaded here -->
                </ul>
                <div class="add-new">
                    <input type="text" id="new-store-name" placeholder="Store Name">
                    <input type="color" id="new-store-color" value="#000000">
                    <button id="add-store-button" title="Add Store"><i class="fas fa-plus"></i></button>
                </div>
            </section>
        </div>
    </div>

    <div class="controls">
        
        <button id="upload-data" title="Upload Data"><i class="fa-solid fa-cloud-arrow-up"></i></button>
        <button id="download-data" title="Download Data"><i class="fa-solid fa-cloud-arrow-down"></i></button>
        <input type="file" id="upload-file" style="display:none" accept=".json">
        <button id="toggle-sidebar" title="Settings"><i class="fa-solid fa-bookmark"></i></button>
    </div>

    <div class="container" id="main-container">
        <div class="tabs">
            <div class="tab active" data-tab="pantry">Pantry</div>
            <div class="tab" data-tab="shopping">Shopping</div>
        </div>

        <div class="tab-content" id="pantry-content">
            <div class="search-bar">
                <input type="text" id="pantry-search" class="search-input" placeholder="Search Pantry Items">
            </div>
            <div id="pantry-categories">
                <!-- Pantry categories and items will be loaded here by JavaScript -->
            </div>
        </div>

        <div class="tab-content" id="shopping-content" style="display: none;">
            <div class="search-bar">
                <input type="text" id="shopping-search" class="search-input" placeholder="Search Shopping List">
            </div>
            <div id="shopping-list">
                <!-- Shopping list items will be added here -->
            </div>
        </div>
    </div>

    <button id="add-item-fab" class="add-item-fab" title="Add New Item"><i class="fas fa-plus"></i></button>
    <button id="scroll-to-top" class="scroll-to-top" title="Scroll to top"><i class="fa-solid fa-chevron-up"></i></button>


    <div id="removed-items-container" class="removed-item-container" style="display: none;">
        <h3 class="category-title">Removed Items</h3>
        <ul id="removed-items-list" class="item-list">
            <!-- Removed items will be added here -->
        </ul>
        <button id="remove-all-removed" class="remove-button" style="background-color: #dc3545;">
            <i class="fa-solid fa-trash"></i>
        </button>
    </div>

    <div id="store-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-store-modal">×</span>
            <h3>Select Store</h3>
            <div class="store-options">
                <!-- Store buttons will be loaded here by JavaScript -->
            </div>
        </div>
    </div>

    <div id="edit-item-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-edit-modal">×</span>
            <h3>Edit Item</h3>
            <input type="text" id="edit-item-name-input" placeholder="Item Name" class="modal-input">
            <input type="url" id="edit-item-url-input" placeholder="Product URL" class="modal-input">
            <input type="url" id="edit-item-image-input" placeholder="Image URL" class="modal-input">
            <select id="edit-item-category-select" class="modal-input">
                <!-- Category options for edit will be loaded here -->
            </select>
            <select id="edit-item-store-select" class="modal-input">
                <!-- Store options for edit will be loaded here -->
            </select>
            <div class="modal-input-group" style="flex-direction: row; gap: 10px;">
                <input type="number" id="edit-item-stock-input" placeholder="Stock" class="modal-input" min="0" step="any">
                <input type="number" id="edit-item-min-input" placeholder="Min Stock" class="modal-input" min="0" step="any">
            </div>
            <div class="modal-input-group" style="flex-direction: row; gap: 10px; margin-bottom: 15px;">
                <input type="text" id="edit-item-min-unit-input" placeholder="Unit" class="modal-input">
                <input type="number" id="edit-item-price-input" placeholder="Price (£)" class="modal-input" min="0" step="0.01">
            </div>
            <div class="modal-actions">
                <button id="save-item-button" class="store-button" title="Save"><i class="fas fa-save"></i></button>
                <button id="cancel-item-button" class="remove-button" title="Cancel"><i class="fas fa-times"></i></button>
            </div>
        </div>
    </div>

    <div id="add-pantry-item-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-add-pantry-item-modal">×</span>
            <h3>Add New Pantry Item</h3>
            <div class="modal-input-group">
                <select id="pantry-category-select" class="modal-input">
                    <!-- Category options will be loaded here -->
                </select>
                <select id="new-pantry-item-store-select" class="modal-input">
                    <!-- Store options will be loaded here -->
                </select>
                <input type="text" id="new-pantry-item-name" placeholder="Item Name" class="modal-input">
                <input type="url" id="new-pantry-item-url" placeholder="Product URL" class="modal-input">
                <input type="url" id="new-pantry-item-image" placeholder="Image URL" class="modal-input">
                <div class="modal-input-group" style="flex-direction: row; gap: 10px;">
                    <input type="number" id="new-pantry-item-stock" placeholder="Stock" class="modal-input" min="0" step="any">
                    <input type="number" id="new-pantry-item-min" placeholder="Min Qty" class="modal-input" value="1" min="0" step="any">
                </div>
                 <div class="modal-input-group" style="flex-direction: row; gap: 10px;">
                    <input type="text" id="new-pantry-item-min-unit" placeholder="Unit" class="modal-input" value="units">
                    <input type="number" id="new-pantry-item-price" placeholder="Price (£)" class="modal-input" min="0" step="0.01">
                </div>
            </div>
            <div class="modal-actions">
                <button id="add-pantry-item-confirm-button" class="store-button" title="Add Item"><i class="fas fa-plus"></i></button>
                <button id="cancel-add-pantry-item-button" class="remove-button" title="Cancel"><i class="fas fa-times"></i></button>
            </div>
        </div>
    </div>

    <div id="message-modal" class="modal">
        <div class="modal-content message-content">
            <p id="message-text"></p>
            <div class="modal-actions">
                <button id="ok-button" class="store-button">OK</button>
            </div>
        </div>
    </div>


    <script src="script.js"></script>
</body>
</html>
